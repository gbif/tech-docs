// DOI badge: If you have a DOI, remove the comment ("// ") from the line below, change "10.EXAMPLE/EXAMPLE" to the DOI in all three places, and remove this line.
// https://doi.org/10.EXAMPLE/EXAMPLE[image:https://zenodo.org/badge/DOI/10.EXAMPLE/EXAMPLE.svg[doi:10.EXAMPLE/EXAMPLE]]
// License badge
//https://creativecommons.org/licenses/by-sa/4.0/[image:https://img.shields.io/badge/License-CC%20BY%2D-SA%204.0-lightgrey.svg[CC BY-SA 4.0]]
// Build status badge
https://builds.gbif.org/job/tech-docs/lastBuild/console[image:https://builds.gbif.org/job/tech-docs/badge/icon[Build status]]

= GBIF IPT Documentation

This is the playbook project for the GBIF IPT â€“ until full integration with the technical documentation site.

It is visible at https://ipt.gbif.org/manual/.

== Building

The simplest approach to building is to use Docker:

----
for i in en es ja zh; do
    docker run --rm -t -u $(id -u) -v $PWD:/antora:Z \
      -e ANTORA_LANGUAGE=$i -e DOCSEARCH_LANGS=$i -e DOCSEARCH_INDEX_VERSION=latest \
      ggrossetie/antora-lunr docs-$i.yml
    rsync -r --checksum --delete output/$i/ ipt.gbif.org:/var/www/html/ipt/manual/$i/
done
----

For building from local sources, e.g. with `docs-development-en.yml`, try

----
docker run --rm -it -u $(id -u) -v $PWD:/antora:Z -v ~Workspace/ipt:/ipt \
  -e ANTORA_LANGUAGE=en -e DOCSEARCH_LANGS=$i -e DOCSEARCH_INDEX_VERSION=latest \
  antora/antora ash

antora docs-development-en.yml
antora docs-development-es.yml
antora docs-development-zh.yml
# (Repeat as required)
----

Please explore the Antora documentation for alternative methods for building.
